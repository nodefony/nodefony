<div class="page-header">
  <h1>Nodefony start in <strong>PM2 Management </strong>mode</h1>
</div>


<div class="doc2 jumbotron">

<p>
	<strong><h2>MODE  PM2 Management </h2></strong>

	This mode is the good  way  to deploy Application in prodution  <br>
	<ul>
		<li> Use nodefony in clusters mode  </li>
		<li> Detach process from terminal </li>
	</ul>
</p>


</div>

<h3>PM2     <a href="http://pm2.keymetrics.io/">pm2.keymetrics.io</a> </h3>

<h3>Configration PM2 in Nodefony      <a href="{{ path('documentation-section',{section:'configurations', version:version, bundle:bundle, queryString:{'subsection':'framework'} })}}#pm2">PM2 Configuration </a> </h3>


<h2>Location :</h2>
<div class="doc2">
	<p>
		In nodefony Root directory launch <code>nodefony prod</code>
	</p>

	<pre>
    .
    ├── CHANGELOG.md
    ├── LICENSE.txt
    ├── README.md
    ├── app
    ├── bin
    ├── config
    ├── doc
    ├── node_modules
    ├── package-lock.json
    ├── package.json
    ├── src
    ├── tmp
    ├── web
    └── yarn.lock
	</pre>
</div>

<h2>Run :</h2>
<div class="doc2 ">

<p>
	<div class="alert alert-warning" role="alert">
		 !! Use nodefony cli to launch nodefony in PM2 Management
	</div>
	To launch nodefony in PM2 Management mode :
</p>
	<pre>
$ <strong>nodefony prod</strong>

┌───────────┬────┬──────────────┬───────┬────────┬─────────┬───────────────────┬─────┬────────┬──────┬──────────┐
│ App name  │ id │ mode         │ pid   │ status │ restart │ uptime            │ cpu │ memory │ user │ watching │
├───────────┼────┼──────────────┼───────┼────────┼─────────┼───────────────────┼─────┼────────┼──────┼──────────┤
│ myproject │ 0  │ cluster_mode │ 53490 │ online │ -       │ a few seconds ago │ 38% │ 44 MB  │ cci  │ -        │
├───────────┼────┼──────────────┼───────┼────────┼─────────┼───────────────────┼─────┼────────┼──────┼──────────┤
│ myproject │ 1  │ cluster_mode │ 53491 │ online │ -       │ a few seconds ago │ 52% │ 35 MB  │ cci  │ -        │
├───────────┼────┼──────────────┼───────┼────────┼─────────┼───────────────────┼─────┼────────┼──────┼──────────┤
│ myproject │ 2  │ cluster_mode │ 53492 │ online │ -       │ a few seconds ago │ 26% │ 26 MB  │ cci  │ -        │
├───────────┼────┼──────────────┼───────┼────────┼─────────┼───────────────────┼─────┼────────┼──────┼──────────┤
│ myproject │ 3  │ cluster_mode │ 53493 │ online │ -       │ a few seconds ago │ 17% │ 20 MB  │ cci  │ -        │
└───────────┴────┴──────────────┴───────┴────────┴─────────┴───────────────────┴─────┴────────┴──────┴──────────┘
To see all logs use the command  nodefony logs
Or use PM2  pm2 --lines 1000 logs
	</pre>
</div>


<h2>Stop :</h2>
<div class="doc2 ">

<p>
	To stop nodefony in PM2 Management mode :
</p>
	<pre>
$ <strong>nodefony stop</strong>

Fri Sep 14 2018 16:02:05 INFO nodefony : PM2 Stop Project  myproject
┌───────────┬────┬──────┬─────┬─────────┬─────────┬────────┬─────┬────────┬──────┬──────────┐
│ App name  │ id │ mode │ pid │ status  │ restart │ uptime │ cpu │ memory │ user │ watching │
├───────────┼────┼──────┼─────┼─────────┼─────────┼────────┼─────┼────────┼──────┼──────────┤
│ myproject │ 0  │ -    │ -   │ stopped │ -       │ -      │ -   │ -      │ -    │ -        │
├───────────┼────┼──────┼─────┼─────────┼─────────┼────────┼─────┼────────┼──────┼──────────┤
│ myproject │ 1  │ -    │ -   │ stopped │ -       │ -      │ -   │ -      │ -    │ -        │
├───────────┼────┼──────┼─────┼─────────┼─────────┼────────┼─────┼────────┼──────┼──────────┤
│ myproject │ 3  │ -    │ -   │ stopped │ -       │ -      │ -   │ -      │ -    │ -        │
├───────────┼────┼──────┼─────┼─────────┼─────────┼────────┼─────┼────────┼──────┼──────────┤
│ myproject │ 2  │ -    │ -   │ stopped │ -       │ -      │ -   │ -      │ -    │ -        │
└───────────┴────┴──────┴─────┴─────────┴─────────┴────────┴─────┴────────┴──────┴──────────┘
	</pre>
</div>


<h2>Kill :</h2>
<div class="doc2 ">

<p>
	To kill nodefony in PM2 Management mode :

</p>
	<pre>
$ <strong>nodefony kill</strong>

	</pre>
</div>
