!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.login=t():e.login=t()}(this,function(){return function(e){function t(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,o){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=18)}({18:function(e,t){e.exports=function(){var e=function(){$('[data-click="change-bg"]').on("click",function(){var e=$(this).find("img").attr("src"),t='<img src="'+e+'" data-id="login-cover-image" />';$(".login-cover-image").prepend(t),$('[data-id="login-cover-image"]').not('[src="'+e+'"]').fadeOut("slow",function(){$(this).remove()}),$('[data-click="change-bg"]').closest("li").removeClass("active"),$(this).closest("li").addClass("active")})},t=function(){"use strict";$.when($("#page-loader").addClass("hide")).done(function(){$("#page-container").addClass("in")})};return stage.appKernel.prototype.initializeLog=function(e){return this.syslog.listenWithConditions(this,{severity:{data:"ERROR,INFO"}},function(e){e.payload.stack?console.error("SYSLOG "+e.severityName+" "+e.msgid+" "+new Date(e.timeStamp)+" "+e.msg+" : "+e.payload.stack):$.gritter.add({title:"NODEFONY "+e.severityName,text:e.payload})}),this.syslog.listenWithConditions(this,{severity:{data:"CRITIC,WARNING,DEBUG "}},function(e){switch(e.severityName){case"CRITIC":console.error("SYSLOG "+e.severityName+" "+e.msgid+" "+new Date(e.timeStamp)+" "+e.msg+" : "+e.payload);break;case"WARNING":console.warn("SYSLOG "+e.severityName+" "+e.msgid+" "+new Date(e.timeStamp)+" "+e.msg+" : "+e.payload);break;case"DEBUG":console.log("SYSLOG "+e.severityName+" "+e.msgid+" "+new Date(e.timeStamp)+" "+e.msg+" : "+e.payload)}}),this.syslog},new stage.appKernel("dev",{debug:!0,router:!1,onBoot:function(e){this.login=new stage.login(this,$("#login"))},onDomLoad:function(){try{e()}catch(e){console.log(e)}},onDomReady:function(){var e=$("#error");if(e.length){var i=e.html();$("#error").remove(),"Missing credentials"!==i&&this.logger(i,"ERROR")}var o=$("#adduser").html();switch(o&&($("#adduser").remove(),this.logger(o,"INFO")),loginType){case"passport-local":break;case"nodefony-sasl":var n=$("#login").attr("action");$("#passwd").bind("focus",function(){this.login.request(n)}.bind(this)),this.login.request(n),$("#login").bind("submit",function(e){var t=$("#email").val(),i=$("#passwd").val();if(!t||!i)return!1;this.login.authenticate&&this.login.authenticate.register(t,i)}.bind(this));break;default:this.logger("FACTOY AUTHENTICATION : loginType NOT EXIST")}t()}})}()}})});