!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],i):"object"==typeof exports?exports.audio=i(require("jQuery")):t.audio=i(t.jQuery)}(this,function(t){return function(t){function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}var e={};return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=34)}({0:function(i,e){i.exports=t},1:function(t,i,e){"use strict";var s,o,n;!function(a){o=[e(0)],void 0!==(n="function"==typeof(s=a)?s.apply(i,o):s)&&(t.exports=n)}(function(t){window.console||(window.console={}),window.console.log||(window.console.log=function(){}),window.console.warn||(window.console.warn=function(){});var i;return function(t){function i(){}var e=Array.prototype.slice;!function(t){function s(i){i.prototype.option||(i.prototype.option=function(i){t.isPlainObject(i)&&(this.options=t.extend(!0,this.options,i))})}function o(i,s){t.fn[i]=function(o){if("string"==typeof o){for(var a=e.call(arguments,1),h=0,r=this.length;h<r;h++){var l=this[h],c=t.data(l,i);if(c)if(t.isFunction(c[o])&&"_"!==o.charAt(0)){var d=c[o].apply(c,a);if(void 0!==d&&d!==c)return d}else n("no such method '"+o+"' for "+i+" instance");else n("cannot call methods on "+i+" prior to initialization; attempted to call '"+o+"'")}return this}var u=this.map(function(){var e=t.data(this,i);return e?(e.option(o),e._init()):(e=new s(this,o),t.data(this,i,e)),t(this)});return!u||u.length>1?u:u[0]}}if(t){var n="undefined"==typeof console?i:function(t){console.error(t)};t.bridget=function(t,i){s(i),o(t,i)},t.bridget}}(t)}(t),function(t){function e(i,e){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},"string"==typeof i?this.element=document.querySelector(i):i instanceof HTMLElement&&(this.element=i),e=e||{};for(var s=Object.keys(this.defaultOptions),n=0;n<s.length;n++){var a=s[n],h=e[a];h=null!==(h=void 0!==h?h:function(t,i){var e="data-slider-"+i.replace(/_/g,"-"),s=t.getAttribute(e);try{return JSON.parse(s)}catch(t){return s}}(this.element,a))?h:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=h}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.tooltip_position="right";var r,l,c,d,u,p=this.element.style.width,m=!1,v=this.element.parentNode;if(this.sliderElem)m=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var f=document.createElement("div");f.className="slider-track",(l=document.createElement("div")).className="slider-track-low",(r=document.createElement("div")).className="slider-selection",(c=document.createElement("div")).className="slider-track-high",(d=document.createElement("div")).className="slider-handle min-slider-handle",d.setAttribute("role","slider"),d.setAttribute("aria-valuemin",this.options.min),d.setAttribute("aria-valuemax",this.options.max),(u=document.createElement("div")).className="slider-handle max-slider-handle",u.setAttribute("role","slider"),u.setAttribute("aria-valuemin",this.options.min),u.setAttribute("aria-valuemax",this.options.max),f.appendChild(l),f.appendChild(r),f.appendChild(c);var _=Array.isArray(this.options.labelledby);if(_&&this.options.labelledby[0]&&d.setAttribute("aria-labelledby",this.options.labelledby[0]),_&&this.options.labelledby[1]&&u.setAttribute("aria-labelledby",this.options.labelledby[1]),!_&&this.options.labelledby&&(d.setAttribute("aria-labelledby",this.options.labelledby),u.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",n=0;n<this.options.ticks.length;n++){var g=document.createElement("div");g.className="slider-tick",this.ticks.push(g),this.ticksContainer.appendChild(g)}r.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",n=0;n<this.options.ticks_labels.length;n++){var y=document.createElement("div"),b=0===this.options.ticks_positions.length,x=this.options.reversed&&b?this.options.ticks_labels.length-(n+1):n;y.className="slider-tick-label",y.innerHTML=this.options.ticks_labels[x],this.tickLabels.push(y),this.tickLabelContainer.appendChild(y)}var w=function(t){var i=document.createElement("div");i.className="tooltip-arrow";var e=document.createElement("div");e.className="tooltip-inner",t.appendChild(i),t.appendChild(e)},k=document.createElement("div");k.className="tooltip tooltip-main",k.setAttribute("role","presentation"),w(k);var C=document.createElement("div");C.className="tooltip tooltip-min",C.setAttribute("role","presentation"),w(C);var E=document.createElement("div");E.className="tooltip tooltip-max",E.setAttribute("role","presentation"),w(E),this.sliderElem.appendChild(f),this.sliderElem.appendChild(k),this.sliderElem.appendChild(C),this.sliderElem.appendChild(E),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(d),this.sliderElem.appendChild(u),v.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),o[this.options.scale]&&(this.options.scale=o[this.options.scale]),!0===m&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=p,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=l||this.trackLow,this.trackSelection=r||this.trackSelection,this.trackHigh=c||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=d||this.handle1,this.handle2=u||this.handle2,!0===m)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),n=0;n<this.ticks.length;n++)this._removeClass(this.ticks[n],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),n=0;n<this.ticks.length;n++)this._addClass(this.ticks[n],this.options.handle);this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.touchstart,!1),this.sliderElem.addEventListener("touchmove",this.touchmove,!1)),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var s={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},o={linear:{toValue:function(t){var i=t/100*(this.options.max-this.options.min),e=!0;if(this.options.ticks_positions.length>0){for(var s,o,n,a=0,h=1;h<this.options.ticks_positions.length;h++)if(t<=this.options.ticks_positions[h]){s=this.options.ticks[h-1],n=this.options.ticks_positions[h-1],o=this.options.ticks[h],a=this.options.ticks_positions[h];break}i=s+(t-n)/(a-n)*(o-s),e=!1}var r=(e?this.options.min:0)+Math.round(i/this.options.step)*this.options.step;return r<this.options.min?this.options.min:r>this.options.max?this.options.max:r},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var i,e,s,o=0,n=0;n<this.options.ticks.length;n++)if(t<=this.options.ticks[n]){i=n>0?this.options.ticks[n-1]:0,s=n>0?this.options.ticks_positions[n-1]:0,e=this.options.ticks[n],o=this.options.ticks_positions[n];break}if(n>0)return s+(t-i)/(e-i)*(o-s)}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var i=0===this.options.min?0:Math.log(this.options.min),e=Math.log(this.options.max),s=Math.exp(i+(e-i)*t/100);return(s=this.options.min+Math.round((s-this.options.min)/this.options.step)*this.options.step)<this.options.min?this.options.min:s>this.options.max?this.options.max:s},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var i=Math.log(this.options.max),e=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-e)/(i-e)}}};(i=function(t,i){return e.call(this,t,i),this}).prototype={_init:function(){},constructor:i,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1,tooltip_position:null,labelledby:null},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,i,e){t||(t=0);var s=this.getValue();this._state.value=this._validateInputValue(t);var o=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=o(this._state.value[0]),this._state.value[1]=o(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=o(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var n=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(n),!0===i&&this._trigger("slide",n),s!==n&&!0===e&&this._trigger("change",{oldValue:s,newValue:n}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,i){return this._bindNonQueryEventHandler(t,i),this},off:function(i,e){t?(this.$element.off(i,e),this.$sliderElem.off(i,e)):this._unbindNonQueryEventHandler(i,e)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,i){return this.options[t]=i,this},refresh:function(){return this._removeSliderEventHandlers(),e.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,i){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(i)},_unbindNonQueryEventHandler:function(t,i){var e=this.eventToCallbackMap[t];if(void 0!==e)for(var s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),i=0;i<t.length;i++){var e=t[i];this.eventToCallbackMap[e]=null}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_layout:function(){var t;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var i="vertical"===this.options.orientation?"height":"width",e="vertical"===this.options.orientation?"marginTop":"marginLeft",s=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var o=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[e]=-s/2+"px"),o=this.tickLabelContainer.offsetHeight;else for(n=0;n<this.tickLabelContainer.childNodes.length;n++)this.tickLabelContainer.childNodes[n].offsetHeight>o&&(o=this.tickLabelContainer.childNodes[n].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=o+"px")}for(var n=0;n<this.options.ticks.length;n++){var a=this.options.ticks_positions[n]||this._toPercentage(this.options.ticks[n]);this.options.reversed&&(a=100-a),this.ticks[n].style[this.stylePos]=a+"%",this._removeClass(this.ticks[n],"in-selection"),this.options.range?a>=t[0]&&a<=t[1]&&this._addClass(this.ticks[n],"in-selection"):"after"===this.options.selection&&a>=t[0]?this._addClass(this.ticks[n],"in-selection"):"before"===this.options.selection&&a<=t[0]&&this._addClass(this.ticks[n],"in-selection"),this.tickLabels[n]&&(this.tickLabels[n].style[i]=s+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[n]?(this.tickLabels[n].style.position="absolute",this.tickLabels[n].style[this.stylePos]=a+"%",this.tickLabels[n].style[e]=-s/2+"px"):"vertical"===this.options.orientation&&(this.tickLabels[n].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style.marginTop=this.sliderElem.offsetWidth/2*-1+"px"))}}var h;if(this.options.range){h=this.options.formatter(this._state.value),this._setText(this.tooltipInner,h),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var r=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,r);var l=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,l),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else h=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,h),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%",this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var c=this.tooltip_min.getBoundingClientRect(),d=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?c.right>d.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):c.right>d.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_resize:function(t){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,i){t.style.removeProperty?t.style.removeProperty(i):t.style.removeAttribute(i)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var i=this._getPercentage(t);if(this.options.range){var e=Math.abs(this._state.percentage[0]-i),s=Math.abs(this._state.percentage[1]-i);this._state.dragged=e<s?0:1,this._adjustPercentageForRangeSliders(i)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=i,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var o=this._calculateValue();return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!1,!0),this._pauseEvent(t),this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){if(void 0!==t.changedTouches){var i=t.changedTouches[0];this.touchX=i.pageX,this.touchY=i.pageY}else this._mousedown(t)},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,i){if(!this._state.enabled)return!1;var e;switch(i.keyCode){case 37:case 40:e=-1;break;case 39:case 38:e=1}if(e){if(this.options.natural_arrow_keys){var s="vertical"===this.options.orientation&&!this.options.reversed,o="horizontal"===this.options.orientation&&this.options.reversed;(s||o)&&(e=-e)}var n=this._state.value[t]+e*this.options.step;return this.options.range&&(n=[t?this._state.value[0]:n,t?n:this._state.value[1]]),this._trigger("slideStart",n),this._setDataVal(n),this.setValue(n,!0,!0),this._setDataVal(n),this._trigger("slideStop",n),this._layout(),this._pauseEvent(i),!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var i=this._getPercentage(t);this._adjustPercentageForRangeSliders(i),this._state.percentage[this._state.dragged]=i,this._layout();var e=this._calculateValue(!0);return this.setValue(e,!0,!0),!1},_touchmove:function(t){if(void 0!==t.changedTouches){var i=t.changedTouches[0],e=i.pageX-this.touchX,s=i.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&e<=5&&e>=-5&&(s>=15||s<=-15)?this._mousedown(t):s<=5&&s>=-5&&(e>=15||e<=-15)&&this._mousedown(t))}},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var i=this._getNumDigitsAfterDecimalPlace(t);i=i?i-1:0;var e=this._applyToFixedAndParseFloat(t,i);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],i)<e?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],i)>e&&(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0)}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var i;if(this.options.range?(i=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(i[0]=this._toValue(this._state.percentage[0]),i[0]=this._applyPrecision(i[0])),100!==this._state.percentage[1]&&(i[1]=this._toValue(this._state.percentage[1]),i[1]=this._applyPrecision(i[1]))):(i=this._toValue(this._state.percentage[0]),i=parseFloat(i),i=this._applyPrecision(i)),t){for(var e=[i,1/0],s=0;s<this.options.ticks.length;s++){var o=Math.abs(this.options.ticks[s]-i);o<=e[1]&&(e=[this.options.ticks[s],o])}if(e[1]<=this.options.ticks_snap_bounds)return e[0]}return i},_applyPrecision:function(t){var i=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,i)},_getNumDigitsAfterDecimalPlace:function(t){var i=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return i?Math.max(0,(i[1]?i[1].length:0)-(i[2]?+i[2]:0)):0},_applyToFixedAndParseFloat:function(t,i){var e=t.toFixed(i);return parseFloat(e)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var i=(t[this.mousePos]-this._state.offset[this.stylePos])/this._state.size*100;return i=Math.round(i/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(i=100-i),Math.max(0,Math.min(100,i))},_validateInputValue:function(t){if("number"==typeof t)return t;if(Array.isArray(t))return this._validateArray(t),t;throw new Error(s.formatInvalidInputErrorMsg(t))},_validateArray:function(t){for(var i=0;i<t.length;i++){var e=t[i];if("number"!=typeof e)throw new Error(s.formatInvalidInputErrorMsg(e))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(i,e){e=e||0===e?e:void 0;var s=this.eventToCallbackMap[i];if(s&&s.length)for(var o=0;o<s.length;o++)(0,s[o])(e);t&&this._triggerJQueryEvent(i,e)},_triggerJQueryEvent:function(t,i){var e={type:t,value:i};this.$element.trigger(e),this.$sliderElem.trigger(e)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,i){void 0!==t.textContent?t.textContent=i:void 0!==t.innerText&&(t.innerText=i)},_removeClass:function(t,i){for(var e=i.split(" "),s=t.className,o=0;o<e.length;o++){var n=e[o],a=new RegExp("(?:\\s|^)"+n+"(?:\\s|$)");s=s.replace(a," ")}t.className=s.trim()},_addClass:function(t,i){for(var e=i.split(" "),s=t.className,o=0;o<e.length;o++){var n=e[o];new RegExp("(?:\\s|^)"+n+"(?:\\s|$)").test(s)||(s+=" "+n)}t.className=s.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetTop:function(t){for(var i=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)i+=t.offsetTop,"BODY"!==t.tagName&&(i-=t.scrollTop);return i},_offset:function(t){return{left:this._offsetLeft(t),top:this._offsetTop(t)}},_css:function(i,e,s){if(t)t.style(i,e,s);else{var o=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,i){return i.toUpperCase()});i.style[o]=s}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var i=this.options.tooltip_position||"right",e="left"===i?"right":"left";t.forEach(function(t){this._addClass(t,i),t.style[e]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t&&function(){var e=void 0;t.fn.slider?(window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),e="bootstrapSlider"):(t.bridget("slider",i),e="slider"),t.bridget("bootstrapSlider",i),t(function(){t("input[data-provide=slider]")[e]()})}()}(t),i})},34:function(t,i,e){e(35),e(36),e(1),e(1),e(37),e(38),t.exports=function(){var t=function(t){var i=$(this).get(0),e=i.getContext("2d"),s=i.width,o=i.height;e.clearRect(0,0,s,o);var n=new Uint8Array(t.frequencyBinCount);t.getByteFrequencyData(n);for(var a=Math.round(s/10),h=0;h<a;h++){var r=n[h];e.fillStyle="rgb(150,50,250)",e.fillRect(10*h,o,8,60-r)}},i=class{constructor(t){this.container=t,this.buildStruct()}buildStruct(){this.container.append('<div class="table mix-table">\t\t\t\t\t<div class="table-row">\t\t\t\t\t\t<div class="table-cell">\t\t\t\t\t\t\t<div class="table">\t\t\t\t\t\t\t\t<div class="table-row tracks">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="table-cell w-80 b-l">\t\t\t\t\t\t\t<div class="table">\t\t\t\t\t\t\t\t<div class="table-row masterTrack" style="overflow: auto;"></div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>'),this.tracksContainer=this.container.find(".tracks"),this.masterTracksContainer=this.container.find(".masterTrack")}addTrack(i,e,s){s=s||this.tracksContainer,"stream"===i.mediaType&&(i.media.videotracks.length>=1?i.mediaType="video":i.mediaType="audio");var o=$('\t\t\t<div class="table-cell" id="'+(e||i.settings.name)+'">\t\t\t\t<div class="table">\t\t\t\t\t<div class="table-row title">\t\t\t\t\t\t<div class="table-cell w-70">'+(e||i.settings.name)+'</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="table-row play">\t\t\t\t\t\t<div class="table-cell w-70 mute">\t\t\t\t\t\t\t<div class="h-50 m-t-10 m-b-10 text-center full-width">\t\t\t\t\t\t\t<i class="fa fa-pause"></i>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="table-row mediaType">\t\t\t\t\t\t<div class="table-cell w-70 mute">\t\t\t\t\t\t\t<div id="view" class="h-50 m-t-10 m-b-10 text-center full-width tagMediaType">\t\t\t\t\t\t\t\t'+("video"==i.mediaType?"<video />":'<audio /><i class="fa fa-music"></i>')+'\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="table-row spectrum">\t\t\t\t\t\t<div class="table-cell w-70 mute">\t\t\t\t\t\t\t<div id="view" class="h-50 m-t-10 m-b-10 text-center full-width">\t\t\t\t\t\t\t\t'+(i.settings.analyser?"<canvas />":"")+'\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="table-row pitch">\t\t\t\t\t\t<div class="table-cell w-70 mute">\t\t\t\t\t\t\t<div class="h-50 m-t-10 m-b-10 text-center full-width">\t\t\t\t\t\t\t\t<div class="switch">\t\t\t\t\t\t\t\t\t<input type="checkbox">\t\t\t\t\t\t\t\t\t<label></label>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="table-row pitch">\t\t\t\t\t\t<div class="table-cell w-70 panner">\t\t\t\t\t\t\t<div class="h-50 m-t-10 m-b-10 text-center full-width">\t\t\t\t\t\t\t\t'+(i.settings.panner?'<input type="text" class="knob" />':"")+'\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="table-row volume">\t\t\t\t\t\t<div class="table-cell w-70 slider relative">\t\t\t\t\t\t\t<input type="text" class="bootSlider" />\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>');switch(s.append(o),"element"===i.mediaType&&o.find(".tagMediaType").empty().append(i.media),o.find(".play i.fa").click(function(){$(this).hasClass("fa-play")?($(this).removeClass("fa-play"),$(this).addClass("fa-pause"),i.pause&&i.pause(),"video"===i.mediaType&&o.find("video").get(0).pause(),i.settings.analyser&&(clearTimeout(i.intervalSpectrumId),delete i.intervalSpectrumId)):($(this).removeClass("fa-pause"),$(this).addClass("fa-play"),i.play&&i.play(0),"video"===i.mediaType&&o.find("video").get(0).play(),i.settings.analyser&&(i.intervalSpectrumId=setInterval(function(){t.call(o.find(".spectrum canvas"),i.audioNodes.analyser)},30)))}),o.find(".mute input[type=checkbox]").attr("checked",i.muted).on("click",function(t){t.currentTarget.checked?i.mute():i.unmute()}),i.settings.panner&&o.find(".panner .knob").attr("value",50*i.audioNodes.panner.pan.value+50).knob({width:"70px",height:"80px",step:10,angleOffset:-125,angleArc:250,thickness:.5,cursor:50,displayInput:!1,change:function(t){var e=Number((t/50-1).toFixed(1));i.audioNodes.panner.pan.value=e}}),o.find(".volume input.bootSlider").slider({reversed:!0,min:0,max:100,step:10,orientation:"vertical",value:100*i.getGain()}).change(function(t){i.setGain(t.value.newValue/100)}),this.container.css({width:$(".mix-table").width(),"margin-left":-$(".mix-table").width()/2}),!0){case i.media instanceof stage.media.mediaStream:var n=o.find("video"==i.mediaType?"video":"audio");i.media.attachMediaStream(n.get(0)),n.prop("muted",!0);break;case"video"===i.mediaType:(n=o.find(i.mediaType)).get(0).src=i.urlStream,n.prop("muted",!0);break;case"audio"===i.mediaType:case"audioNode"===i.mediaType:case"domElement"===i.mediaType:}}},e={1:[697,1209],2:[697,1336],3:[697,1477],4:[770,1209],5:[770,1336],6:[770,1477],7:[852,1209],8:[852,1336],9:[852,1477],"#":[941,1209],0:[941,1336],"*":[941,1477]};return class extends stage.Service{constructor(t){super("MIXER",t.container),this.mediaMix=null}build(t){this.mediaMix=new stage.media.mediaMix({onReadyTrack:(t,i)=>{this.logger("TRACK READY : "+i.name,"INFO"),this.ui.addTrack(i)}}),this.ui=new i(t),this.ui.addTrack(this.mediaMix.masterBus,"MASTER",this.ui.masterTracksContainer)}start(){this.ring=this.addTrack("AJAX WAV","/demoBundle/webaudio/music/marimba.wav"),this.addTrack("AJAX MP3 ","/demoBundle/webaudio/music/Chico_Buarque.mp3"),this.addTrack("AJAX webm","/demoBundle/webaudio/music/oceans-clip.webm");var t=$("<video src='/demoBundle/webaudio/music/oceans-clip.webm' />");this.addTrack("DOM ELEMENT",t.get(0)),this.LA=this.build440(),this.dtmf=this.buildDtmf(),this.localMedia=new stage.media.mediaStream,this.localMedia.getUserMedia({audio:!0,video:!0},t=>{this.addTrack("STREAM WEBCAM",t)},t=>{console.log(t)})}addTrack(t,i){this.mediaMix.createTrack(i,{name:t,gain:!0,panner:!0,filter:!1,analyser:!0})}buildDtmf(){var t={};for(var i in e){var s=this.mediaMix.createOscillator(),o=this.mediaMix.createOscillator(),n=this.mediaMix.createChannelMerger(2);s.type="sine",s.frequency.value=e[i][0],o.type="sine",o.frequency.value=e[i][1],s.connect(n,0,0),o.connect(n,0,1),s.start(0),o.start(0);var a=this.addTrack("DTMF "+i,n);t[i]=a}return t}build440(){var t=this.mediaMix.createOscillator();return t.type="sine",t.frequency.value=440,this.addTrack("LA 440",t)}playRinging(t,i){if(this.LA.play(0),t)e=t;else var e=1500;if(i)s=i;else var s=1e4;var o=setInterval(function(){this.LA.muted?this.LA.unmute():this.LA.mute()}.bind(this),e);setTimeout(function(){clearInterval(o),this.LA.pause(0)}.bind(this),s)}playDtmf(t,i){var e=t+"";e in this.dtmf&&(this.dtmf[e].play(0),setTimeout(function(){this.dtmf[e].pause()}.bind(this),i||500))}playRing(t){this.ring.play(0,!0),setTimeout(function(){this.ring.pause()}.bind(this),t||1e4)}}}()},35:function(t,i){document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new l(this))}function i(t,i,e){var s=k.call(arguments,2);return function(){return t.apply(i,s.concat(k.call(arguments)))}}function e(t){var i=t.srcElement;switch(t.propertyName){case"width":i.style.width=i.attributes.width.nodeValue+"px",i.getContext().clearRect();break;case"height":i.style.height=i.attributes.height.nodeValue+"px",i.getContext().clearRect()}}function s(t){var i=t.srcElement;i.firstChild&&(i.firstChild.style.width=i.clientWidth+"px",i.firstChild.style.height=i.clientHeight+"px")}function o(){return[[1,0,0],[0,1,0],[0,0,1]]}function n(t,i){for(var e=o(),s=0;s<3;s++)for(var n=0;n<3;n++){for(var a=0,h=0;h<3;h++)a+=t[s][h]*i[h][n];e[s][n]=a}return e}function a(t,i){i.fillStyle=t.fillStyle,i.lineCap=t.lineCap,i.lineJoin=t.lineJoin,i.lineWidth=t.lineWidth,i.miterLimit=t.miterLimit,i.shadowBlur=t.shadowBlur,i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.strokeStyle=t.strokeStyle,i.globalAlpha=t.globalAlpha,i.arcScaleX_=t.arcScaleX_,i.arcScaleY_=t.arcScaleY_,i.lineScale_=t.lineScale_}function h(t){var i,e=1;if("rgb"==(t=String(t)).substring(0,3)){var s=t.indexOf("(",3),o=t.indexOf(")",s+1),n=t.substring(s+1,o).split(",");i="#";for(var a=0;a<3;a++)i+=E[Number(n[a])];4==n.length&&"a"==t.substr(3,1)&&(e=n[3])}else i=t;return{color:i,alpha:e}}function r(t){switch(t){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function l(t){this.m_=o(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*x,this.globalAlpha=1,this.canvas=t;var i=t.ownerDocument.createElement("div");i.style.width=t.clientWidth+"px",i.style.height=t.clientHeight+"px",i.style.overflow="hidden",i.style.position="absolute",t.appendChild(i),this.element_=i,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function c(t,i,e,s){t.currentPath_.push({type:"bezierCurveTo",cp1x:i.x,cp1y:i.y,cp2x:e.x,cp2y:e.y,x:s.x,y:s.y}),t.currentX_=s.x,t.currentY_=s.y}function d(t){for(var i=0;i<3;i++)for(var e=0;e<2;e++)if(!isFinite(t[i][e])||isNaN(t[i][e]))return!1;return!0}function u(t,i,e){if(d(i)&&(t.m_=i,e)){var s=i[0][0]*i[1][1]-i[0][1]*i[1][0];t.lineScale_=b(y(s))}}function p(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function m(){}var v=Math,f=v.round,_=v.sin,g=v.cos,y=v.abs,b=v.sqrt,x=10,w=x/2,k=Array.prototype.slice,C={init:function(t){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var e=t||document;e.createElement("canvas"),e.attachEvent("onreadystatechange",i(this.init_,this,e))}},init_:function(t){if(t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!t.styleSheets.ex_canvas_){var i=t.createStyleSheet();i.owningElement.id="ex_canvas_",i.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var e=t.getElementsByTagName("canvas"),s=0;s<e.length;s++)this.initElement(e[s])},initElement:function(i){if(!i.getContext){i.getContext=t,i.innerHTML="",i.attachEvent("onpropertychange",e),i.attachEvent("onresize",s);var o=i.attributes;o.width&&o.width.specified?i.style.width=o.width.nodeValue+"px":i.width=i.clientWidth,o.height&&o.height.specified?i.style.height=o.height.nodeValue+"px":i.height=i.clientHeight}return i}};C.init();for(var E=[],T=0;T<16;T++)for(var S=0;S<16;S++)E[16*T+S]=T.toString(16)+S.toString(16);var M=l.prototype;M.clearRect=function(){this.element_.innerHTML=""},M.beginPath=function(){this.currentPath_=[]},M.moveTo=function(t,i){var e=this.getCoords_(t,i);this.currentPath_.push({type:"moveTo",x:e.x,y:e.y}),this.currentX_=e.x,this.currentY_=e.y},M.lineTo=function(t,i){var e=this.getCoords_(t,i);this.currentPath_.push({type:"lineTo",x:e.x,y:e.y}),this.currentX_=e.x,this.currentY_=e.y},M.bezierCurveTo=function(t,i,e,s,o,n){var a=this.getCoords_(o,n);c(this,this.getCoords_(t,i),this.getCoords_(e,s),a)},M.quadraticCurveTo=function(t,i,e,s){var o=this.getCoords_(t,i),n=this.getCoords_(e,s),a={x:this.currentX_+2/3*(o.x-this.currentX_),y:this.currentY_+2/3*(o.y-this.currentY_)};c(this,a,{x:a.x+(n.x-this.currentX_)/3,y:a.y+(n.y-this.currentY_)/3},n)},M.arc=function(t,i,e,s,o,n){e*=x;var a=n?"at":"wa",h=t+g(s)*e-w,r=i+_(s)*e-w,l=t+g(o)*e-w,c=i+_(o)*e-w;h!=l||n||(h+=.125);var d=this.getCoords_(t,i),u=this.getCoords_(h,r),p=this.getCoords_(l,c);this.currentPath_.push({type:a,x:d.x,y:d.y,radius:e,xStart:u.x,yStart:u.y,xEnd:p.x,yEnd:p.y})},M.rect=function(t,i,e,s){this.moveTo(t,i),this.lineTo(t+e,i),this.lineTo(t+e,i+s),this.lineTo(t,i+s),this.closePath()},M.strokeRect=function(t,i,e,s){var o=this.currentPath_;this.beginPath(),this.moveTo(t,i),this.lineTo(t+e,i),this.lineTo(t+e,i+s),this.lineTo(t,i+s),this.closePath(),this.stroke(),this.currentPath_=o},M.fillRect=function(t,i,e,s){var o=this.currentPath_;this.beginPath(),this.moveTo(t,i),this.lineTo(t+e,i),this.lineTo(t+e,i+s),this.lineTo(t,i+s),this.closePath(),this.fill(),this.currentPath_=o},M.createLinearGradient=function(t,i,e,s){var o=new p("gradient");return o.x0_=t,o.y0_=i,o.x1_=e,o.y1_=s,o},M.createRadialGradient=function(t,i,e,s,o,n){var a=new p("gradientradial");return a.x0_=t,a.y0_=i,a.r0_=e,a.x1_=s,a.y1_=o,a.r1_=n,a},M.drawImage=function(t,i){var e,s,o,n,a,h,r,l,c=t.runtimeStyle.width,d=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var u=t.width,p=t.height;if(t.runtimeStyle.width=c,t.runtimeStyle.height=d,3==arguments.length)e=arguments[1],s=arguments[2],a=h=0,r=o=u,l=n=p;else if(5==arguments.length)e=arguments[1],s=arguments[2],o=arguments[3],n=arguments[4],a=h=0,r=u,l=p;else{if(9!=arguments.length)throw Error("Invalid number of arguments");a=arguments[1],h=arguments[2],r=arguments[3],l=arguments[4],e=arguments[5],s=arguments[6],o=arguments[7],n=arguments[8]}var m=this.getCoords_(e,s),_=[];if(_.push(" <g_vml_:group",' coordsize="',10*x,",",10*x,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var g=[];g.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",f(m.x/x),",","Dy=",f(m.y/x),"");var y=m,b=this.getCoords_(e+o,s),w=this.getCoords_(e,s+n),k=this.getCoords_(e+o,s+n);y.x=v.max(y.x,b.x,w.x,k.x),y.y=v.max(y.y,b.y,w.y,k.y),_.push("padding:0 ",f(y.x/x),"px ",f(y.y/x),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",g.join(""),", sizingmethod='clip');")}else _.push("top:",f(m.y/x),"px;left:",f(m.x/x),"px;");_.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',x*o,"px;"," height:",x*n,'px;"',' cropleft="',a/u,'"',' croptop="',h/p,'"',' cropright="',(u-a-r)/u,'"',' cropbottom="',(p-h-l)/p,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",_.join(""))},M.stroke=function(t){var i=[],e=h(t?this.fillStyle:this.strokeStyle),s=e.color,o=e.alpha*this.globalAlpha;i.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',10*x," ",10*x,'"',' stroked="',!t,'"',' path="');for(var n={x:null,y:null},a={x:null,y:null},l=0;l<this.currentPath_.length;l++){var c=this.currentPath_[l];switch(c.type){case"moveTo":c,i.push(" m ",f(c.x),",",f(c.y));break;case"lineTo":i.push(" l ",f(c.x),",",f(c.y));break;case"close":i.push(" x "),c=null;break;case"bezierCurveTo":i.push(" c ",f(c.cp1x),",",f(c.cp1y),",",f(c.cp2x),",",f(c.cp2y),",",f(c.x),",",f(c.y));break;case"at":case"wa":i.push(" ",c.type," ",f(c.x-this.arcScaleX_*c.radius),",",f(c.y-this.arcScaleY_*c.radius)," ",f(c.x+this.arcScaleX_*c.radius),",",f(c.y+this.arcScaleY_*c.radius)," ",f(c.xStart),",",f(c.yStart)," ",f(c.xEnd),",",f(c.yEnd))}c&&((null==n.x||c.x<n.x)&&(n.x=c.x),(null==a.x||c.x>a.x)&&(a.x=c.x),(null==n.y||c.y<n.y)&&(n.y=c.y),(null==a.y||c.y>a.y)&&(a.y=c.y))}if(i.push(' ">'),t)if("object"==typeof this.fillStyle){var d=this.fillStyle,u=0,p={x:0,y:0},m=0,_=1;if("gradient"==d.type_){var g=d.x0_/this.arcScaleX_,y=d.y0_/this.arcScaleY_,b=d.x1_/this.arcScaleX_,w=d.y1_/this.arcScaleY_,k=this.getCoords_(g,y),C=this.getCoords_(b,w),E=C.x-k.x,T=C.y-k.y;(u=180*Math.atan2(E,T)/Math.PI)<0&&(u+=360),u<1e-6&&(u=0)}else{var k=this.getCoords_(d.x0_,d.y0_),S=a.x-n.x,M=a.y-n.y;p={x:(k.x-n.x)/S,y:(k.y-n.y)/M},S/=this.arcScaleX_*x,M/=this.arcScaleY_*x;var P=v.max(S,M);m=2*d.r0_/P,_=2*d.r1_/P-m}var A=d.colors_;A.sort(function(t,i){return t.offset-i.offset});for(var $=A.length,L=A[0].color,H=A[$-1].color,N=A[0].alpha*this.globalAlpha,I=A[$-1].alpha*this.globalAlpha,D=[],l=0;l<$;l++){var O=A[l];D.push(O.offset*_+m+" "+O.color)}i.push('<g_vml_:fill type="',d.type_,'"',' method="none" focus="100%"',' color="',L,'"',' color2="',H,'"',' colors="',D.join(","),'"',' opacity="',I,'"',' g_o_:opacity2="',N,'"',' angle="',u,'"',' focusposition="',p.x,",",p.y,'" />')}else i.push('<g_vml_:fill color="',s,'" opacity="',o,'" />');else{var V=this.lineScale_*this.lineWidth;V<1&&(o*=V),i.push("<g_vml_:stroke",' opacity="',o,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',r(this.lineCap),'"',' weight="',V,'px"',' color="',s,'" />')}i.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",i.join(""))},M.fill=function(){this.stroke(!0)},M.closePath=function(){this.currentPath_.push({type:"close"})},M.getCoords_=function(t,i){var e=this.m_;return{x:x*(t*e[0][0]+i*e[1][0]+e[2][0])-w,y:x*(t*e[0][1]+i*e[1][1]+e[2][1])-w}},M.save=function(){var t={};a(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=n(o(),this.m_)},M.restore=function(){a(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},M.translate=function(t,i){u(this,n([[1,0,0],[0,1,0],[t,i,1]],this.m_),!1)},M.rotate=function(t){var i=g(t),e=_(t);u(this,n([[i,e,0],[-e,i,0],[0,0,1]],this.m_),!1)},M.scale=function(t,i){this.arcScaleX_*=t,this.arcScaleY_*=i,u(this,n([[t,0,0],[0,i,0],[0,0,1]],this.m_),!0)},M.transform=function(t,i,e,s,o,a){u(this,n([[t,i,0],[e,s,0],[o,a,1]],this.m_),!0)},M.setTransform=function(t,i,e,s,o,n){u(this,[[t,i,0],[e,s,0],[o,n,1]],!0)},M.clip=function(){},M.arcTo=function(){},M.createPattern=function(){return new m},p.prototype.addColorStop=function(t,i){i=h(i),this.colors_.push({offset:t,color:i.color,alpha:i.alpha})},G_vmlCanvasManager=C,CanvasRenderingContext2D=l,CanvasGradient=p,CanvasPattern=m}()},36:function(t,i,e){!function(i){t.exports=i(e(0))}(function(t){"use strict";var i={},e=Math.max,s=Math.min;i.c={},i.c.d=t(document),i.c.t=function(t){return t.originalEvent.touches.length-1},i.o=function(){var e=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var i=function(t,i){var s;for(s in i)e.o[s]=i[s];e._carve().init(),e._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=t.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:!0===this.$.data("cursor")&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(t){return t},parse:function(t){return parseFloat(t)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(i){var s=t(this);e.i[i]=s,e.v[i]=e.o.parse(s.val()),s.bind("change blur",function(){var t={};t[i]=s.val(),e.val(e._validate(t))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){e.val(e._validate(e.o.parse(e.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=t(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=t('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",i).parent().bind("configure",i),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var t=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),i=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(t,i)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var t=!0;e.g=e.c,e.clear(),e.dH&&(t=e.dH()),!1!==t&&e.draw()},this._touch=function(t){var s=function(t){var i=e.xy2val(t.originalEvent.touches[e.t].pageX,t.originalEvent.touches[e.t].pageY);i!=e.cv&&(e.cH&&!1===e.cH(i)||(e.change(e._validate(i)),e._draw()))};return this.t=i.c.t(t),s(t),i.c.d.bind("touchmove.k",s).bind("touchend.k",function(){i.c.d.unbind("touchmove.k touchend.k"),e.val(e.cv)}),this},this._mouse=function(t){var s=function(t){var i=e.xy2val(t.pageX,t.pageY);i!=e.cv&&(e.cH&&!1===e.cH(i)||(e.change(e._validate(i)),e._draw()))};return s(t),i.c.d.bind("mousemove.k",s).bind("keyup.k",function(t){if(27===t.keyCode){if(i.c.d.unbind("mouseup.k mousemove.k keyup.k"),e.eH&&!1===e.eH())return;e.cancel()}}).bind("mouseup.k",function(t){i.c.d.unbind("mousemove.k mouseup.k keyup.k"),e.val(e.cv)}),this},this._xy=function(){var t=this.$c.offset();return this.x=t.left,this.y=t.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(t){t.preventDefault(),e._xy()._mouse(t)}).bind("touchstart",function(t){t.preventDefault(),e._xy()._touch(t)}),this.listen()),this.relative&&t(window).resize(function(){e._carve().init(),e._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(t){var i=~~((t<0?-.5:.5)+t/this.o.step)*this.o.step;return Math.round(100*i)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(t){},this.val=function(t){},this.xy2val=function(t,i){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(t,i){var e;return t=t.substring(1,7),"rgba("+(e=[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)])[0]+","+e[1]+","+e[2]+","+i+")"},this.copy=function(t,i){for(var e in t)i[e]=t[e]}},i.Dial=function(){i.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=t.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(t,i){if(null==t)return this.v;t=this.o.parse(t),!1!==i&&t!=this.v&&this.rH&&!1===this.rH(t)||(this.cv=this.o.stopper?e(s(t,this.o.max),this.o.min):t,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(t,i){var o,n;return o=Math.atan2(t-(this.x+this.w2),-(i-this.y-this.w2))-this.angleOffset,this.o.flip&&(o=this.angleArc-o-this.PI2),this.angleArc!=this.PI2&&o<0&&o>-.5?o=0:o<0&&(o+=this.PI2),n=o*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(n=e(s(n,this.o.max),this.o.min)),n},this.listen=function(){var i,o,n,a,h=this,r=function(t){t.preventDefault();var n=t.originalEvent,a=n.detail||n.wheelDeltaX,r=n.detail||n.wheelDeltaY,l=h._validate(h.o.parse(h.$.val()))+(a>0||r>0?h.o.step:a<0||r<0?-h.o.step:0);l=e(s(l,h.o.max),h.o.min),h.val(l,!1),h.rH&&(clearTimeout(i),i=setTimeout(function(){h.rH(l),i=null},100),o||(o=setTimeout(function(){i&&h.rH(l),o=null},200)))},l=1,c={37:-h.o.step,38:h.o.step,39:h.o.step,40:-h.o.step};this.$.bind("keydown",function(i){var o=i.keyCode;if(o>=96&&o<=105&&(o=i.keyCode=o-48),n=parseInt(String.fromCharCode(o)),isNaN(n)&&(13!==o&&8!==o&&9!==o&&189!==o&&(190!==o||h.$.val().match(/\./))&&i.preventDefault(),t.inArray(o,[37,38,39,40])>-1)){i.preventDefault();var r=h.o.parse(h.$.val())+c[o]*l;h.o.stopper&&(r=e(s(r,h.o.max),h.o.min)),h.change(h._validate(r)),h._draw(),a=window.setTimeout(function(){l*=2},30)}}).bind("keyup",function(t){isNaN(n)?a&&(window.clearTimeout(a),a=null,l=1,h.val(h.$.val())):h.$.val()>h.o.max&&h.$.val(h.o.max)||h.$.val()<h.o.min&&h.$.val(h.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",r),this.$.bind("mousewheel DOMMouseScroll",r)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var t=e(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/t>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(t){this.cv=t,this.$.val(this.o.format(t))},this.angle=function(t){return(t-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(t){var i,e;return t=this.angle(t),e=this.o.flip?(i=this.endAngle+1e-5)-t-1e-5:(i=this.startAngle-1e-5)+t+1e-5,this.o.cursor&&(i=e-this.cursorExt)&&(e+=this.cursorExt),{s:i,e:e,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var t,i=this.g,e=this.arc(this.cv),s=1;i.lineWidth=this.lineWidth,i.lineCap=this.lineCap,"none"!==this.o.bgColor&&(i.beginPath(),i.strokeStyle=this.o.bgColor,i.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),i.stroke()),this.o.displayPrevious&&(t=this.arc(this.v),i.beginPath(),i.strokeStyle=this.pColor,i.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),i.stroke(),s=this.cv==this.v),i.beginPath(),i.strokeStyle=s?this.o.fgColor:this.fgColor,i.arc(this.xy,this.xy,this.radius,e.s,e.e,e.d),i.stroke()},this.cancel=function(){this.val(this.v)}},t.fn.dial=t.fn.knob=function(e){return this.each(function(){var s=new i.Dial;s.o=e,s.$=t(this),s.run()}).parent()}})},37:function(t,i){},38:function(t,i){}})});